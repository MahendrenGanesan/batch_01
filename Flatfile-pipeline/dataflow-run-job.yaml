steps:
  - name: google/cloud-sdk:420.0.0-slim
    args: [ './scripts/run_dataflow_job.sh' ]
    env:
      - 'PROJECT_ID=$PROJECT_ID'
      - 'LOCATION=$LOCATION'
      - 'JOB_NAME=$_JOB_NAME'
      - 'METADATA_TEMPLATE_FILE_PATH=$_METADATA_TEMPLATE_FILE_PATH'
      - 'TEMP_LOCATION=$_TEMP_LOCATION'
      - 'STAGING_LOCATION=$_STAGING_LOCATION'
      - 'SA_EMAIL=$_SA_EMAIL'
      - 'INPUT_FILE=$_INPUT_FILE'
      - 'SIDE_INPUT_FILE=$_SIDE_INPUT_FILE'
      - 'TEAM_LEAGUE_DATASET=$_TEAM_LEAGUE_DATASET'
      - 'TEAM_STATS_TABLE=$_TEAM_STATS_TABLE'
      - 'JOB_TYPE=$_JOB_TYPE'
      - 'FAILURE_OUTPUT_DATASET=$_FAILURE_OUTPUT_DATASET'
      - 'FAILURE_OUTPUT_TABLE=$_FAILURE_OUTPUT_TABLE'
      - 'FAILURE_FEATURE_NAME=$_FAILURE_FEATURE_NAME'